<div class="Content">
  <h2>Cadastre-se</h2>
  <hr>
  <form [formGroup]="signUpForm" #f = "ngForm">

  <mat-form-field appearance="fill">
    <mat-label>Nome</mat-label>
    <input matInput placeholder="Digite seu nome" formControlName="name" required>
    <mat-error *ngIf="name.invalid">Por favor insira seu nome</mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Usuário</mat-label>
    <input matInput placeholder="Digite um usuário" formControlName="username" required>
    <mat-error *ngIf="username.invalid">Por favor insira um usuário</mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Senha</mat-label>
    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" required>
    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide"
    style="border: none; color: white; background: none;">
      <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    </button>
    <mat-error *ngIf="password.errors?.['minlength'] && password.value != ''">Senha deve ter no minímo 6 caracteres</mat-error>
    <mat-error *ngIf="password.value == ''">Senha é obrigatória</mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Confirme sua senha</mat-label>
    <input matInput [type]="hide ? 'password' : 'text'" formControlName="repassword" required>
    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide"
    style="border: none; color: white; background: none;">
      <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    </button>
    <mat-error *ngIf="repassword.errors?.['equalsTo']">Por favor digite senhas iguais</mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Email</mat-label>
    <input matInput placeholder="email@email.com" formControlName="email" required>
    <mat-error *ngIf="email.value == '' && email.dirty">Digite seu email</mat-error>
    <mat-error *ngIf="email.invalid && email.dirty && email.value != ''">Digite um email valido</mat-error>
  </mat-form-field>

  <div class="buttons">
    <button type="submit" class="btn btn-outline-info btn-block" [disabled]="signUpForm.invalid" (click)="submitForm()" class="solid">Cadastrar</button>
    <button class="btn btn-outline-info btn-block"   routerLink="" class="lined" style="background: none;">Voltar</button>
  </div>
  </form>
  <app-popup typeMsg="Error" msg="Nome de usuário já está sendo utilizado!" *ngIf="LoginFail"></app-popup>
</div>
